


// console hook
window.save = xl;xl=function(t){console.log(JSON.stringify(t));t.costTime = 100;return window.save(t);}

// generate answer
window.answerFunctin = ()=> {
    let mapping  = {
        ">": [[
            {
                "x": 151.7891845703125,
                "y": 426.16705322265625
            },
            {
                "x": 164.03663635253906,
                "y": 433.7272644042969
            },
            {
                "x": 174.5767364501953,
                "y": 436.2956848144531
            },
            {
                "x": 185.17884826660156,
                "y": 438.5010070800781
            },
            {
                "x": 194.63706970214844,
                "y": 440.6557312011719
            },
            {
                "x": 200.46128845214844,
                "y": 443.1537780761719
            },
            {
                "x": 199.0635986328125,
                "y": 448.4795837402344
            },
            {
                "x": 192.15101623535156,
                "y": 452.0509033203125
            },
            {
                "x": 187.02325439453125,
                "y": 454.06439208984375
            },
            {
                "x": 180.6659698486328,
                "y": 456.6847839355469
            },
            {
                "x": 174.9500732421875,
                "y": 458.7030334472656
            },
            {
                "x": 170.30348205566406,
                "y": 460.98486328125
            }
        ]],
        "<": [
            [
                {
                    "x": 192.23301696777344,
                    "y": 415.6752624511719
                },
                {
                    "x": 181.79200744628906,
                    "y": 418.3963623046875
                },
                {
                    "x": 159.67185974121094,
                    "y": 422.78961181640625
                },
                {
                    "x": 151.2422332763672,
                    "y": 425.36614990234375
                },
                {
                    "x": 154.72103881835938,
                    "y": 430.6635437011719
                },
                {
                    "x": 159.605224609375,
                    "y": 431.8260803222656
                },
                {
                    "x": 170.09848022460938,
                    "y": 433.66119384765625
                }
            ]
        ],
        "=": [
            [
                {
                    "x": 192.23301696777344,
                    "y": 415.6752624511719
                },
                {
                    "x": 181.79200744628906,
                    "y": 418.3963623046875
                },
                {
                    "x": 159.67185974121094,
                    "y": 422.78961181640625
                },
                {
                    "x": 154.72103881835938,
                    "y": 430.6635437011719
                },
                {
                    "x": 159.605224609375,
                    "y": 431.8260803222656
                },
                {
                    "x": 170.09848022460938,
                    "y": 433.66119384765625
                }
            ]
        ]
    }
    const source = window.source;
    let answer = {...source.examVO, correctCnt: source.examVO.questionCnt, costTime: Math.floor((Math.random()*100)+10), updatedTime: (new Date).getTime()}
    answer.questions.map(q => {
        q.userAnswer = q.answer;
        q.status = 1
        q.script = JSON.stringify(mapping[q.answer[0]])
        q.curTrueAnswer = {
            "recognizeResult": q.answer[0],
            "pathPoints": mapping[q.answer[0]],
            "answer": 1,
            "showReductionFraction": 0
        }
    })
    return answer;
}


// replace source code
let payload = ```window.answerFunctin = ()=> {
    let mapping  = {
        ">": [[
            {
                "x": 151.7891845703125,
                "y": 426.16705322265625
            },
            {
                "x": 164.03663635253906,
                "y": 433.7272644042969
            },
            {
                "x": 174.5767364501953,
                "y": 436.2956848144531
            },
            {
                "x": 185.17884826660156,
                "y": 438.5010070800781
            },
            {
                "x": 194.63706970214844,
                "y": 440.6557312011719
            },
            {
                "x": 200.46128845214844,
                "y": 443.1537780761719
            },
            {
                "x": 199.0635986328125,
                "y": 448.4795837402344
            },
            {
                "x": 192.15101623535156,
                "y": 452.0509033203125
            },
            {
                "x": 187.02325439453125,
                "y": 454.06439208984375
            },
            {
                "x": 180.6659698486328,
                "y": 456.6847839355469
            },
            {
                "x": 174.9500732421875,
                "y": 458.7030334472656
            },
            {
                "x": 170.30348205566406,
                "y": 460.98486328125
            }
        ]],
        "<": [
            [
                {
                    "x": 192.23301696777344,
                    "y": 415.6752624511719
                },
                {
                    "x": 181.79200744628906,
                    "y": 418.3963623046875
                },
                {
                    "x": 159.67185974121094,
                    "y": 422.78961181640625
                },
                {
                    "x": 151.2422332763672,
                    "y": 425.36614990234375
                },
                {
                    "x": 154.72103881835938,
                    "y": 430.6635437011719
                },
                {
                    "x": 159.605224609375,
                    "y": 431.8260803222656
                },
                {
                    "x": 170.09848022460938,
                    "y": 433.66119384765625
                }
            ]
        ],
        "=": [
            [
                {
                    "x": 192.23301696777344,
                    "y": 415.6752624511719
                },
                {
                    "x": 181.79200744628906,
                    "y": 418.3963623046875
                },
                {
                    "x": 159.67185974121094,
                    "y": 422.78961181640625
                },
                {
                    "x": 154.72103881835938,
                    "y": 430.6635437011719
                },
                {
                    "x": 159.605224609375,
                    "y": 431.8260803222656
                },
                {
                    "x": 170.09848022460938,
                    "y": 433.66119384765625
                }
            ]
        ]
    }
    const source = window.source;
    let answer = {...source.examVO, correctCnt: source.examVO.questionCnt, costTime: Math.floor((Math.random()*100)+10), updatedTime: (new Date).getTime()}
    answer.questions.map(q => {
        q.userAnswer = q.answer;
        q.status = 1
        q.script = JSON.stringify(mapping[q.answer[0]])
        q.curTrueAnswer = {
                    "recognizeResult": q.answer[0],
                    "pathPoints": mapping[q.answer[0]],
                    "answer": 1,
                    "showReductionFraction": 0
                }
    })
    return answer;
};```

sourceCode.replace("var n = JSON.parse(ko.Base64.decode(r.result));", "var n = JSON.parse(ko.Base64.decode(r.result));window.sourceData=n;"+payload)
    .replace("saveLocalResult:xl", "(()=>{window.save = xl;return function(t){let ans = window.answerFunctin();console.log(ans);return window.save(ans);}}){}")